<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Лабораторна робота №4, Ведмидь Святослав, ПК-15-1</title>
        <style>
        h1,h2,h3 {text-align:center}
        xmp {color:darkblue}
        p {text-align:justify}
        </style>
    </head>
    <body>
        <h2>Лабораторная работа №4.</h1>
        <h3>Задание лабораторной работы</h3>
            <p> Написать на языке Perl или Bash скрипт, который прочитает содержание всех файлов, переданных
            ему в командной строке и объединит их в один файл. если среди
            передаваемых файлов будут файлы в формате HTML, то в них необходимо уничтожить
            все теги. </p>

        <h3>Код</h3>
        <p>Файл <code>lab4_GV.sh</code></p>
        <xmp>
            #!/bin/bash
            > "result.txt"
            for file in $@
            do
            if [ ! -f "$file" ]
            then echo "File $file not found." >> "result.txt"
            else
            sed -e :a -e 's/<[^>]*>//g;/</N;//ba' $file >> "result.txt"
            fi
            done
            exit 0
        </xmp>
        <h3>Пояснения</h3>
        <p>
            Скрипт написан с использованием Bash. Строкой <code> > "result.txt"</code>
            создаем новый файл result.txt, иначе очищаем его. Далее в цикле проходим по 
            всем параметрам командной строки, которые представляют из себя имена файлов.
            Проверяем существование файла командой <code>! -f "$file" </code>, 
            и если файл не найден, то выводим соответствующее сообщение.
            Если же файл найден, то применяется утилита <code>sed</code>.
            Она является потоковым текстовым редактором. Ключ <code>-e</code>
            выполняет несколько действий, разделенных точкой с запятой.
            Флаг <code>s</code> означает замену. Ищется регулярное выражение, которое
            заменяется на пустоту. Флаг g указывает на обработку всех вхождений шаблона
            в строку. </body>
</html>